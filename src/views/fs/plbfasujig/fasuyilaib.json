{
  "module": "v_search_btn_datagrid",
  "layout": {
    "form": {
      "foldLineNumber": 2,
      "scope": "formData",
      "controls": [
        {
          "branch": {
            "control": "remoteSelect",
            "label": "区域中心",
            "labelField": "brachName",
            "valueField": "branchNo",
            "doRequest": {
              "url": "/SUMP/icmcall/icmRPCCall",
              "method": "POST",
              "params": {
                "servicecode": "RLMSPLTS1068"
              }
            },
            "format": "value-label"
          },
        "orgType": {
          "control": "select",
          "label": "机构类型",
          "dict": {
            "dictType": "E_ORGTYPES",
            "dictKey": [
              "E_ORGTYPES"
            ],
            "format": "value-label",
            "labelField": "dictName",
            "valueField": "dictId"
          }
        },
        "isorno_case": {
          "control": "select",
          "label": "是否进行实际委案",
          "dict": {
            "dictType": "E_ISORNO_CASE",
            "dictKey": [
              "E_ISORNO_CASE"
            ],
            "format": "value-label",
            "labelField": "dictName",
            "valueField": "dictId"
          }
        },
        "current_year_date": {
          "control": "dateTimePicker",
          "label": "完成年审年度",
          "format": "yyyyMMdd"
        },
        "mech_status": {
          "control": "select",
          "label": "机构状态",
          "dict": {
            "dictType": "E_MECH_STATUS",
            "dictKey": [
              "E_MECH_STATUS"
            ],
            "format": "value-label",
            "labelField": "dictName",
            "valueField": "dictId"
          }
        }
      }
    ]
  },
  "toolbar": {
    "btns": [
      {
        "type": "export",
        "label": "导出",
        "target": "dialog",
        "icon": "iconfont icon-daochu",
        "toRequest": {
          "method": "post",
          "url": "@exportOaFile",
          "params": {
            "servicecode": "RLMSPLTS1080",
            "branch":"${{formData.branch}}",
            "orgType":"${{formData.orgType}}",
            "isorno_case":"${{formData.isorno_case}}",
            "current_year_date":"${{formData.current_year_date}}",
            "mech_status":"${{formData.mech_status}}"
          }
        },
        "props": {
          "width": "30%",
          "title": "导出"
        }
      }
    ]
  },
    "datagrid": {
      "isInitSearch": true,
      "doRequest": {
        "url": "/SUMP/icmcall/icmRPCCall",
        "method": "post",
        "params": {
          "servicecode": "RLMSPLTS1079"
        }
      },
      "thead": [
        {
          "type": "string",
          "align": "center",
          "label": "区域中心",
          "prop": "branchname"
        },
        {
          "label": "合作机构类型",
          "prop": "orgType",
          "align": "center",
          "dict": {
            "dictType": "E_ORGTYPES",
            "dictKey": [
              "E_ORGTYPES"
            ],
            "format": "label",
            "labelField": "dictName",
            "valueField": "dictId"
          }
        },
        {
          "type": "string",
          "align": "center",
          "label": "机构名称",
          "prop": "oa_org_name"
        },
        {
          "type": "string",
          "align": "center",
          "label": "曾用名",
          "prop": "name_used_bef"
        },
        {
          "type": "string",
          "align": "center",
          "label": "是否进行实际委案",
          "prop": "isorno_case",
        "dict": {
          "dictType": "E_ISORNO_CASE",
          "dictKey": [
            "E_ISORNO_CASE"
          ],
          "format": "label",
          "labelField": "dictName",
          "valueField": "dictId"
      }
    },
        {
          "type": "string",
          "align": "center",
          "label": "当前续签时间",
          "prop": "signing_date"
        },
        {
          "type": "string",
          "align": "center",
          "label": "合作终止时间",
          "prop": "coopern_end_date"
        },
        {
          "type": "string",
          "align": "center",
          "label": "首次签约时间",
          "prop": "start_coopern_date"
        },
        {
          "type": "string",
          "align": "center",
          "label": "当前完成年审年度",
          "prop": "current_year_date"
        },
        
        {
            "type": "string",
            "align": "center",
            "label": "机构状态",
            "prop": "mech_status",
          "dict": {
            "dictType": "E_MECH_STATUS",
            "dictKey": [
              "E_MECH_STATUS"
            ],
            "format": "label",
            "labelField": "dictName",
            "valueField": "dictId"
        }
      },
        {
          "label": "操作",
          "align": "center",
          "fixed": "right",
          "width": "130px",
          "btns": [
            {
              "type": "custom",
              "label": "合作确认",
              "toRequest": {
                "url": "@legalOrgConfirm",
                "method": "POST",
                "params": {
              },
              "props": {
                "width": "80%",
                "title": "合作确认"
              },
              "show": {
                "prop": "mech_status",
                "is": ["1","2","3","4","5"]
              }
            }
            },
            {
              "type": "custom",
              "label": "退出",
              "toRequest": {
                "url": "@outsourcerQuit",
                "method": "POST",
                "params": {
              },
              "props": {
                "width": "80%",
                "title": "退出"
              },
              "show": {
                "prop": "mech_status",
                "is": ["1","2","3","4","5"]
              }
            }
            },
            {
              "type": "custom",
              "label": "年审",
              "toRequest": {
                "url": "@outsourcerQuit",
                "method": "POST",
                "params": {
              },
              "props": {
                "width": "80%",
                "title": "年审"
              },
              "show": {
                "prop": "mech_status",
                "is": ["1","2","3","4","5"]
              }
            }
            },
            {
              "type": "custom",
              "label": "续签",
              "toRequest": {
                "url": "@outsourcerRenewal",
                "method": "POST",
                "params": {
                  "case_id": "${{current.case_id}}"
              },
              "props": {
                "width": "80%",
                "title": "续签"
              },
              "show": {
                "prop": "mech_status",
                "is":["1","2","3","4","5"]
              }
            }
            },
            {
              "type": "custom",
              "label": "更名",
              "toRequest": {
                "url": "@OutsourcerView",
                "method": "POST",
                "params": {
                },
                "props": {
                  "width": "80%",
                  "title": "更名"
                },
                "show": {
                  "prop": "mech_status",
                  "is": ["1","2","3","4","5"]
                }
              }
            }
          ]
        }
      ]
    }
  }
}
