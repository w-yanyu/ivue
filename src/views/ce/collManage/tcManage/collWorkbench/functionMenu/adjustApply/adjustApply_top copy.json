{
    "module": "v-inputDataForm-btn",
    "layout": {
        "form": {
            "height":"80%",
            "scope":"formData",
            "initRequest": "${{params}}",
            "doRequest": {
                "url": "/SUMP/icmcall/icmRPCCall",
                "method": "POST",
                "params": {
                    "servicecode": "pl0062"
                }
            },
            "controlsGroup": [
                {
                    "title": "分配方案",
                    "tooltip": "",
                    "titleIcon": "",
                    "showHint": "",
                    "accordion": false,
                    "expand": true,
                    "controls": [
                        {
                            "scheme_cd": {
                                "control": "text",
                                "disabled":true,
                                "label": "分配方案编号",
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            },
                            "scheme_name": {
                                "control": "text",
                                "label": "分配方案名称",
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            }
                        },
                        {
                            "scheme_type": {
                                "disabled":true,
                                "control": "remoteSelect",
                                "label": "分配方案类型",
                                "labelField": "drop_list_desc",
                                "valueField": "drop_list_value",
                                "doRequest": {
                                    "url": "/SUMP/icmcall/icmRPCCall",
                                    "method": "POST",
                                    "params": {
                                        "servicecode": "ap1071",
                                        "drop_list_type": "pl_coll_type"
                                    }
                                },
                                "format": "label",
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            },
                            "scheme_pattern": {
                                "control": "remoteSelect",
                                "label": "分配方式",
                                "labelField": "drop_list_desc",
                                "valueField": "drop_list_value",
                                "doRequest": {
                                    "url": "/SUMP/icmcall/icmRPCCall",
                                    "method": "POST",
                                    "params": {
                                        "servicecode": "ap1071",
                                        "drop_list_type": "scheme_pattern"
                                    }
                                },
                                "format": "label",
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            }
                        },
                        {
                            "priority": {
                                "control": "inputNumber",
                                "label": "优先级",
                                "rules":[
                                    {
                                        "expression":"'${{formData.priority}}'.length < 20",
                                        "message":"最多可以输入 19 个字节"
                                    },
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    },
                                    {
                                        "type":"integer",
                                        "message":"只能输入整数"
                                    }
                                    
                                ]
                            },
                            "is_valid": {
                                "control": "select",
                                "label": "是否启用",
                                "dict": {
                                    "dictType": "MS_E_YESORNO",
                                    "dictKey": [
                                        "MS_E_YESORNO"
                                    ],
                                    "format": "label"
                                },
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            }
                        }
                    ]
                },
                {
                    "title": "分配规则",
                    "tooltip": "",
                    "titleIcon": "",
                    "showHint": "",
                    "expand": true,
                    "controls": [
                        {
                            "ca_queue_cd": {
                                "control": "remoteSelect",
                                "label": "分配队列",
                                "labelField": "queue_name",
                                "valueField": "queue_cd",
                                "doRequest": {
                                    "url": "/SUMP/icmcall/icmRPCCall",
                                    "method": "POST",
                                    "params": {
                                        "servicecode": "pl0402",
                                        "coll_type": "${{formData.scheme_type}}"
                                    }
                                },
                                "format": "label"
                            },
                            "ca_ratio": {
                                "control": "inputNumber",
                                "label": "分配比例（%）",
                                "min": 0,
                                "max": 100,
                                "precision":2,
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            }
                        },
                        {
                            "ca_object_id": {
                                "control": "remoteSelect",
                                "label": "分配对象",
                                "labelField": "coll_org_name",
                                "valueField": "coll_org_id",
                                "doRequest": {
                                    "url": "/SUMP/icmcall/icmRPCCall",
                                    "method": "POST",
                                    "params": {
                                        "servicecode": "pl0416",
                                        "coll_org_type": "${{formData.scheme_type}}",
                                        "is_valid":"Y"
                                    }
                                },
                                "format": "label",
                                "rules": [
                                    {
                                        "required": true,
                                        "message": "请输入"
                                    }
                                ]
                            }
                        }
                    ]
                }
                
            ]
        },
        
        "####toolbar":{
            "btns":[
                {
                    "type":"dropdown",
                    "label":"分配指南",
                    "icon":"el-icon-close",
                    "toRequest": {
                        "url":"/views/pl/paramManage/assign/scheme/scheme_modify.json",
                        "method":"",
                        "params":{}
                    }
                }

            ]

        }
    }
}