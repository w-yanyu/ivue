{
  "module": "v-search-btn-datagrid",
  "pageId": "risk_rule_constant",
  "layout": {
    "form": {
      "controls": [{
        "case_name": {
          "label": "用例名称",
          "control": "text",
          "span": 8,
          "rules": [{
            "message": "长度不能超过40个字符",
            "max": 40
          }]
        }
      }]
    },
    "toolbar": {
      "btns": [{
        "type": "add",
        "label": "新增",
        "toRequest": {
          "url": "/views/risk/risk_data_source/data_source_configuration/test_list_add.json",
          "method": "get",
          "params": {
            "data_source_code": "${{params.data_source_code}}"
          }
        },
        "props": {
          "width": "70%",
          "title": "新增"
        }
      },{
        "type": "add",
        "label": "测试通过",
        "doRequest": {
          "url": "/SUMP/icmcall/icmRPCCall",
          "method": "post",
          "params": {
            "servicecode": ""
          }
        }
      }]
    },
    "datagrid": {
      "isInitSearch": true,
      "doRequest": {
        "url": "/SUMP/icmcall/icmRPCCall",
        "method": "POST",
        "params": {
          "servicecode": "deci050040",
          "data_source_code": "${{params.data_source_code}}",
          "case_name": "${{params.case_name}}"
        }
      },
      "thead": [
        {
        "label": "序号",
        "type": "index"
        },
        {
          "label": "用例名称",
          "prop": "case_name",
          "value": "111"
        },
        {
          "label": "创建人",
          "prop": "data_update_user"
        },
        {
          "label": "创建时间",
          "prop": "data_create_time"
        },
        {
          "label": "执行时间",
          "prop": "execute_time"
        },
        {
          "isShow": false,
          "prop": "case_no"
        },
        {
          "isShow": false,
          "prop": "data_source_code"
        },
        {
          "label": "执行结果",
          "prop": "execute_result",
          "type": "icon",
          "switch": {
            "0": {
              "name": "el-icon-close"
            },
            "1": {
              "name": "el-icon-check"
            }
          }
        },
        {
          "label": "操作",
          "width": "150px",
          "btns": [{
              "type": "edit",
              "label": "维护",
              "toRequest": {
                "url": "@testListEdit",
                "method": "get",
                "params": {"pageType":"edit"}
              },
              "props": {
                "width": "70%"
              }
            },
            {
              "type": "look",
              "label": "查看",
              "toRequest": {
                "url": "@testListEdit",
                "method": "get",
                "params": {"pageType":"look"}
              },
              "props": {
                "width": "70%"
              }
            },
            {
              "type": "delete",
              "label": "删除",
              "doRequest": {
                "url": "/SUMP/icmcall/icmRPCCall",
                "method": "post",
                "params": {
                  "servicecode": "deci050038",
                  "case_no": "${{current.case_no}}"
                }
              },
              "confirm": {
                  "title": "提示信息",
                  "msg": "确认删除当前数据？",
                  "confirmButtonText": "确定",
                  "cancelButtonText": "取消"
              }
            }
            ,
            {
              "type": "custom",
              "label": "执行用例",
              "doRequest": {
                "url": "/SUMP/icmcall/icmRPCCall",
                "method": "post",
                "params": {
                  "servicecode": "deci050003",
                  "provider_code": "${{current.provider_code}}"
                }
              },
              "confirm": {
                  "title": "提示信息",
                  "msg": "确认执行当前用例？",
                  "confirmButtonText": "确定",
                  "cancelButtonText": "取消"
              }
            }
            ,
            {
              "type": "custom",
              "label": "执行结果",
              "toRequest": {
                "url": "/views/risk/risk_monitor_management/risk_data_source_info/data_service_call.json",
                "method": "GET",
                "target": "navTab",
                "noRefreshTab": true,
                "params": {
                  "frame_cd": "${{current.task_url1}}",
                  "cust_name": "${{current.cust_name}}",
                  "appl_state": "${{current.appl_state}}",
                  "appl_date": "${{current.appl_date}}",
                  "task_inst_id": "${{current.cur_task_id}}",
                  "appId": "${{form.appId}}"
                }
              },
              "props": {
                
              }
            }
          ]
        }
      ]
    }
  }
}
