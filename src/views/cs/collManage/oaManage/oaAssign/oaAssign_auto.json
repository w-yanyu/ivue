{
    "module": "v_search_btn_datagrid",
    "layout": {
        "form": {
            "scope": "formData",
            "initRequest": "${{params}}",
            "controls": [
                {
                    "strategy_group_name": {
                        "control": "lookup",
                        "edit": false,
                        "align": "left",
                        "label": "策略组名称",
                        "required": true,
                        "keyField": {
                            "strategy_group_code": "strategy_group_code"
                        },
                        "toRequest": {
                            "url": "/views/cs/collManage/oaManage/oaAssign/strategy_group_lookup.json",
                            "method": "post"
                        },
                        "props": {
                            "width": "55%",
                            "title": "策略组查询"
                        }
                    },
                    "strategy_group_code": {
                        "control": "hidden",
                        "align": "left",
                        "label": "策略组代码"
                    },
                    "assign_algorithm": {
                    "control": "hidden",
                    "align": "left",
                    "label": "分配算法"
                  }
                }
            ]
        },
        "toolbar": {
            "btns": [
                {
                    "type": "add",
                    "label": "保存",
                    "icon": "el-icon-tickets",
                    "doRequest": {
                        "method": "POST",
                        "url": "/SUMP/icmcall/icmRPCCall",
                        "params": {
                            "servicecode": "cb0215",
                            "case_id": "${{params.selectedData}}",
                            "strategy_group_code": "${{formData.strategy_group_code}}"

                        }
                    }
                },
                {
                    "type": "close",
                    "label": "取消"
                }
            ]
        },
        "datagrid": {
            "isInitSearch": false,
            "doRequest": {
                "url": "/SUMP/icmcall/icmRPCCall",
                "method": "POST",
                "params": {
                    "servicecode": "py0012",
                    "appId": "pyOnl"
                }
            },
            "thead": [
                {
                    "prop": "oa_org_id",
                    "type": "string",
                    "align": "center",
                    "label": "委外公司法人代码"
                },
                {
                    "prop": "oa_org_name",
                    "type": "string",
                    "align": "center",
                    "label": "委外公司名称"
                },
                {
                    "prop": "commission_plan_id",
                    "type": "string",
                    "align": "center",
                    "label": "佣金方案编号",
                    "format": "value-label",
                    "labelField": "common_scheme_name",
                    "valueField": "commission_plan_id",
                    "doRequest": {
                        "url": "/SUMP/iccsCall/iccsEurekaCall",
                        "method": "POST",
                        "params": {
                            "servicecode": "##委外公司佣金列表查询",
                            "coll_kind": "02",
                            "is_valid": "Y",
                            "oa_org_id": "##传入委外公司代码"
                        }
                    }
                },
                {
                    "prop": "oa_cycle",
                    "type": "string",
                    "align": "center",
                    "label": "委外周期"
                },
                {
                    "prop": "oa_cycle_unit",
                    "type": "string",
                    "align": "center",
                    "label": "委外周期单位",
                    "format": "value-label",
                    "dict": {
                        "dictType": "CS_OA_CYCLE_UNIT",
                        "dictKey": [
                            "CS_OA_CYCLE_UNIT"
                        ],
                        "format": "value-label"
                    }
                },
                {
                    "prop": "detail_assign_ratio",
                    "type": "string",
                    "align": "center",
                    "label": "明细分配比重"
                }
            ]
        }
    }
}
