{
  "module": "v-form-btn-dynamic",
  "layout": {
    "form": {
      "initRequest": {
        "url": "/SUMP/icmcall/icmRPCCall",
        "method": "POST",
        "params": {
          "servicecode": "ar1330",
          "apply_no": "${{params.apply_no}}"
        }
      },
      "controls": [
        {
          "apply_no": {
            "control": "text",
            "label": "申请号",
            "disabled": true,
            "width": "200px",
            "span": 7
          },
          "loan_no": {
            "control": "hidden",
            "label": "借据号",
            "edit": true,
            "width": "200px",
            "keyField": {
              "loan_no": "loan_no"
            },
            "toRequest": {
              "url": "/views/icms/internationalBusiness/ArbLetterCreditInfo/letter_credit_lookup.json",
              "params": {

              },
              "method": "get"
            },
            "multiple": false,
            "props": {
              "title": "借据信息选择"
            },
            "span": 7
          },
          "this_bank_or_not": {
            "control": "select",
            "label": "是否本行",
            "rules": [
              {
                "required": true,
                "message": "请选择是否本行"
              }
            ],
            "width": "200px",
            "dict": {
              "dictType": "MS_E_YESORNO",
              "dictKey": [
                "MS_E_YESORNO"
              ],
              "format": "label"
            },
            "span": 7
          },
          "credit_of_no": {
            "control": "lookup",
            "edit": true,
            "label": "信用证号",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证号"
              }
            ],
            "width": "200px",
            "keyField": {
              "credit_of_no": "contract_no",
              "credit_of_amt": "apply_amt",
              "ccy_code": "ccy_code",
              "credit_of_base_amt": "apply_base_amt",
              "base_ccy": "base_ccy",
              "exchange_rate": "exchange_rate",
              "credit_of_valid_amt": "contract_valid_amt"
            },
            "toRequest": {
              "url": "/views/icms/internationalBusiness/ArbLetterCreditInfo/letter_credit_lookup.json",
              "params": {
                "cust_no": "${{params.cust_id}}"
              },
              "method": "get"
            },
            "multiple": false,
            "props": {
              "title": "信用证信息选择"
            },
            "span": 7
          },
          "credit_of_base_amt": {
            "control": "currency",
            "label": "信用证金额（折基准币种）",
            "compute": "${{form.credit_of_amt}}*${{form.exchange_rate}}",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证金额（折基准币种）"
              }
            ],
            "width": "200px",
            "span": 10
          },
          "ccy_code": {
            "control": "select",
            "label": "信用证币种",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证币种"
              }
            ],
            "width": "200px",
            "dict": {
              "dictType": "MS_CURRENCY",
              "dictKey": "MS_CURRENCY",
              "format": "label"
            },
            "span": 7
          },
          "base_ccy": {
            "control": "select",
            "label": "基准币种",
            "rules": [
              {
                "required": true,
                "message": "请选择基准币种"
              }
            ],
            "width": "200px",
            "dict": {
              "dictType": "MS_CURRENCY",
              "dictKey": "MS_CURRENCY",
              "format": "label"
            },
            "span": 7
          },
          "exchange_rate": {
            "control": "currency",
            "label": "汇率",
            "rules": [
              {
                "required": true,
                "message": "请选择汇率"
              }
            ],
            "width": "200px",
            "span": 7,
            "align": "left",
            "format": {
              "thousand": ","
            }
          },
          "credit_of_amt": {
            "control": "currency",
            "label": "信用证金额",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证金额"
              }
            ],
            "width": "200px",
            "span": 7,
            "align": "left",
            "format": {
              "thousand": ","
            }
          },
          "credit_of_base_amt": {
            "control": "currency",
            "label": "信用证金额（折基准币种）",
            "compute": "${{form.credit_of_amt}}*${{form.exchange_rate}}",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证金额（折基准币种）"
              }
            ],
            "width": "200px",
            "span": 7,
            "align": "left",
            "format": {
              "thousand": ","
            }
          },
          "credit_of_valid_amt": {
            "control": "currency",
            "label": "信用证余额",
            "rules": [
              {
                "required": true,
                "message": "请选择信用证余额"
              }
            ],
            "width": "200px",
            "span": 7,
            "align": "left",
            "format": {
              "thousand": ","
            }
          },
          "cust_no": {
            "control": "hidden"
          }
        }
      ]
    },
    "toolbar": {
      "btns": [
        {
          "type": "submit",
          "label": "保存",
          "doRequest": {
            "url": "/SUMP/icmcall/icmRPCCall",
            "method": "POST",
            "params": {
              "servicecode": "ar1329"
            }
          }
        }
      ]
    },
    "alert": {
      "title": "说明",
      "description": [
        "本行客户可查找信用证信息，他行的可手动输入数据。"
      ],
      "listStyle": "disc"
    }
  }
}
