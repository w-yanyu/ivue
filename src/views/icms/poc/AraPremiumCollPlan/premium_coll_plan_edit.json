{
  "module": "v_inputDataForm_btn",
  "layout": {
    "form": {
      "initRequest": "${{params}}",
      "btns": [
        {
          "type": "submit",
          "label": "提交",
          "icon": "",
          "doRequest": {
            "url": "/SUMP/icmcall/icmRPCCall",
            "method": "POST",
            "params": {
              "servicecode": "ar1661",
              "apply_no": "${{params.apply_no}}",
              "premium_plan_no": "${{params.premium_plan_no}}"
            }
          }
        }
      ],
      "controls": [
        {
          "apply_no": {
            "label": "申请号",
            "control": "hidden",
            "value": "${{params.apply_no}}"
          },
          "premium_plan_no": {
            "label": "保费收取计划编号",
            "control": "hidden",
            "value": "${{params.premium_plan_no}}"
          },
          "premium_plan_name": {
            "label": "保费收取计划名称",
            "disabled": false,
            "span": "7",
            "rules": [
              {
                "required": true,
                "message": "请输入收取计划名称"
              }
            ],
            "control": "text"
          },
          "premium_receiver": {
            "label": "保费收取方",
            "control": "select",
            "span": "7",
            "disabled": false,
            "rules": [
              {
                "required": true,
                "message": "请输入保费收取方"
              }
            ],
            "dict": {
              "dictType": "AR_E_PREMIUM_RECEIVER",
              "dictKey": [
                "AR_E_PREMIUM_RECEIVER"
              ],
              "format": "value-label"
            }
          },
          "premium_mode": {
              "label": "保费收取方式",
              "control": "select",
              "span": "7",
              "disabled": true,
              "rules": [
                {
                  "required": true,
                  "message": "请输入保费收取方式"
                }
              ],
              "dict": {
                "dictType": "AR_E_PREMIUM_MODE",
                "dictKey": [
                  "AR_E_PREMIUM_MODE"
                ],
                "format": "value-label"
              },
              "events": {
                "condition": {
                  "1": {
                    "control": {
                      "repay_periods": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "请输入还款期数"
                          }
                        ]
                      },
                      "each_period_receiver_amnt": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "每期收取金额（元）"
                          }
                        ]
                      },
                      "start_term": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "起始期数"
                          }
                        ]
                      },
                      "end_term": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "截止期数"
                          }
                        ]
                      }
                    }
                  },
                  "2": {
                    "control": {
                      "repay_periods": {
                        "initShow": true,
                        "rules": [
                          {
                            "required": true,
                            "message": "请输入还款期数"
                          }
                        ]
                      },
                      "each_period_receiver_amnt": {
                        "initShow": true,
                        "rules": [
                          {
                            "required": true,
                            "message": "每期收取金额（元）"
                          }
                        ]
                        
                      },
                      "start_term": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "起始期数"
                          }
                        ]
                      },
                      "end_term": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "截止期数"
                          }
                        ]              
                      }
                    }
                  },
                  "3": {
                    "control": {
                      "repay_periods": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "请输入还款期数"
                          }
                        ]
                      },
                      "each_period_receiver_amnt": {
                        "initShow": false,
                        "value": "",
                        "rules": [
                          {
                            "required": false,
                            "message": "每期收取金额（元）"
                          }
                        ]
                        
                      },
                      "start_term": {
                        "initShow": true,
                        "rules": [
                          {
                            "required": true,
                            "message": "起始期数"
                          }
                        ]
                      },
                      "end_term": {
                        "initShow": true,
                        "rules": [
                          {
                            "required": true,
                            "message": "截止期数"
                          }
                        ]              
                      }
                    }
                  }
                }
              }
            },
            "premium_amnt": {
              "label": "保费总金额(元)",
              "disabled": false,
              "span": "7",
              "control": "currency",
              "align": "left",
              "rules": [
                {
                  "required": true,
                  "message": "请输入保费总金额(元)"
                }
              ],
              "format": {
                "thousand": ","
              }
            },
            "repay_periods": {
              "initShow": false,
              "label": "还款期数",
              "align": "left",
              "disabled": false,
              "control": "inputNumber",
              "controls": false,
              "position": "left",
              "span": "7",
              "format": "label",
              "rules": [
                {
                  "expression": " ${{form.repay_periods}} > 0 ",
                  "message": "还款期数初值不能小于等于零"
                },
                {
                  "pattern": "^[1-9]+[0-9]*$",
                  "message": "请输入整数"
                }
              ]
            },
            "each_period_receiver_amnt": {
              "initShow": false,
              "label": "每期收取金额(元)",
              "disabled": false,
              "rules": [
                {
                  "required": true
                },
                {
                  "expression": " ${{form.premium_amnt}} > ${{form.each_period_receiver_amnt}} ",
                  "message": "保费总金额应大于等于每期收取金额"
                }
              ],
              "span": "7",
              "control": "currency",
              "align": "left",
              "format": {
                "thousand": ","
              }
            },
            "start_term": {
              "label": "起始期数",
              "align": "left",
              "disabled": false,
              "control": "inputNumber",
              "controls": false,
              "position": "left",
              "span": "7",
              "format": "label",
              "initShow": false,
              "rules": [
                {
                  "expression": " ${{form.start_term}} > 0 ",
                  "message": "起始期数不能小于等于零"
                },
                {
                  "pattern": "^[1-9]+[0-9]*$",
                  "message": "请输入正整数"
                }
              ]
            },
            "end_term": {
              "label": "终止期数",
              "align": "left",
              "disabled": false,
              "control": "inputNumber",
              "controls": false,
              "position": "left",
              "span": "7",
              "format": "label",
              "initShow": false,
              "rules": [
                {
                  "expression": " ${{form.end_term}} > 0 ",
                  "message": "终止期数不能小于等于零"
                },
                {
                  "pattern": "^[1-9]+[0-9]*$",
                  "message": "请输入正整数"
                }
              ]
            }
        }
      ]
    }
  }
}
