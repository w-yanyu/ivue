{
  "module": "v_inputDataForm_btn",
  "layout": {
    "form": {
      "scope": "formData",
      "initRequest": {
        "url": "/SUMP/icmcall/icmRPCCall",
        "method": "POST",
        "params": {
          "servicecode": "pd0215",
          "sale_prod_cd": "${{params.sale_prod_cd}}",
          "prod_version": "${{params.prod_version}}"
        }
      },
      "doRequest": {
        "url": "/SUMP/icmcall/icmRPCCall",
        "method": "POST",
        "params": {
          "servicecode": "pd0212",
          "sale_prod_cd": "${{params.sale_prod_cd}}",
          "prod_version": "${{params.prod_version}}"
        }
      },
      "controls": [
        {
          "template_id": {
            "control": "hidden",
            "label": "模板编号",
            "value": "${{params.template_id}}"
          },
          "prod_version": {
            "control": "hidden",
            "label": "可售产品版本",
            "value": "${{params.prod_version}}"
          },
          
          "busi_seq": {
            "control": "hidden",
            "label": "业务流水",
            "value": "${{params.busi_seq}}"
          },
          "prod_type_name": {
            "control": "hidden",
            "label": "业务类型名称",
            "value": "${{params.prod_type_name}}"
          },
          "template_version": {
            "control": "hidden",
            "label": "模板版本",
            "value": "${{params.template_version}}"
          },
          "sale_prod_cd": {
            "control": "string",
            "label": "可售产品编号",
            "span": 8,
            "width": "50px",
            "rules": [
              {
                "required": true,
                "message": "可售产品名称不得为空"
              },
              {
                "max": 80,
                "message": "长度不能超过80个字符"
              }
            ]
          },
          "sale_prod_name": {
            "control": "text",
            "label": "可售产品名称",
            "span": 8,
            "width": "50px",
            "rules": [
              {
                "required": true,
                "message": "可售产品名称不得为空"
              },
              {
                "max": 80,
                "message": "长度不能超过80个字符"
              }
            ]
          },
          "prod_type": {
            "label": "可售产品类型",
            "value": "${{params.prod_type}}",
            "disabled": true,
            "span": 8,
            "width": "50px",
            "control": "remoteSelect",
            "labelField": "title",
            "valueField": "id",
            "doRequest": {
              "url": "/SUMP/call/RPCCall",
              "method": "POST",
              "params": {
                "servicecode": "pd0144",
                "grupno": "0006",
                "pid": "KSCP"
              }
            },
            "rules": [
              {
                "required": true,
                "message": "可售产品类型不得为空"
              }
            ]
          }
        },
        {
          "sale_prod_attr": {
            "control": "select",
            "label": "可售产品属性",
            "disabled": true,
            "span": 8,
            "width": "50px",
            "dict": {
              "dictType": "PD_E_PROD_ATTR",
              "dictKey": [
                "PD_E_PROD_ATTR"
              ],
              "format": "value-label"
            },
            "rules": [
              {
                "required": true,
                "message": "基础产品名称不得为空"
              }
            ]
          },
          "prod_abbr_desc": {
            "control": "text",
            "label": "可售产品简称描述",
            "span": 8,
            "width": "50px",
            "rules": [
              {
                "required": true,
                "message": "可售产品简称描述不得为空"
              }
            ]
          },
          "prod_abbr_flag": {
            "control": "text",
            "label": "可售产品简称标志",
            "span": 8,
            "width": "50px",
            "rules": [
              {
                "required": true,
                "message": "可售产品简称标志不得为空"
              }
            ]
          }
        },
        {
          "base_prod_cd": {
            "control": "lookup",
            "span": 8,
            "width": "50px",
            "edit": true,
            "label": "基础产品编号",
            "keyField": {
              "base_prod_cd": "prod_code",
              "base_prod_name": "prod_nm"
            },
            "toRequest": {
              "url": "/views/product/productModel/prod_list_qry.json",
              "method": "post"
            },
            "props": {
              "title": "请选择"
            },
            "format": "label"
          },
          "is_lxyk": {
            "control": "hidden",
            "label": "是否类信用卡",
            "span": 8,
            "width": "50px",
            "dict": {
              "dictType": "MS_E_YESORNO",
              "dictKey": [
                "MS_E_YESORNO"
              ],
              "labelField": "dictName",
              "valueField": "dictId",
              "format": "label"
            }
          },
          "base_prod_name": {
            "control": "text",
            "label": "基础产品名称",
            "span": 8,
            "width": "50px",
            "#rules": [
              {
                "required": true,
                "message": "基础产品名称不得为空"
              }
            ]
          },
          "prod_contents_name": {
            "control": "lookup",
            "label": "产品所属目录",
            "span": 8,
            "width": "50px",
            "keyField": {
              "prod_contents_name": "node_name",
              "prod_contents_cd": "node_cd"
            },
            "toRequest": {
              "url": "@prodContentsTree",
              "method": "get",
              "params": {
                "prodContentsTree": "产品目录选择"
              }
            },
            "props": {
              "title": "产品目录选择"
            },
            "rules": [
              {
                "required": true,
                "message": "产品所属目录不得为空"
              }
            ]
          },
          "prod_contents_cd": {
            "control": "hidden",
            "label": "产品所属目录编号",
            "span": 8,
            "width": "50px",
            "rules": [
              {
                "required": false,
                "message": "产品所属目录编号不得为空"
              }
            ]
          }
        },
        {
          "amt_purpose_type_name": {
            "label": "资金用途分类",
            "control": "lookup",
            "span": 8,
            "width": "50px",
            "edit": false,
            "keyField": {
              "amt_purpose_type_no": "amt_purpose_type_no",
              "amt_purpose_type_name": "amt_purpose_type_name"
            },
            "toRequest": {
              "url": "/views/icms/docManager/loanPurposeType/loanPurposeType_lookup.json",
              "method": "get",
              "params": {
                "cust_class_list": "${{formData.cust_class}}|99"
              }
            },
            "multiple": false,
            "props": {
              "title": "选择贷款用途分类"
            }
          },
          "amt_purpose_type_no": {
            "control": "hidden",
            "label": "资金用途分类",
            "span": 8,
            "width": "50px"
          },
          "is_credit": {
            "control": "select",
            "label": "是否需要授信",
            "span": 8,
            "width": "50px",
            "dict": {
              "dictType": "MS_E_YESORNO",
              "dictKey": [
                "MS_E_YESORNO"
              ],
              "labelField": "dictName",
              "valueField": "dictId",
              "format": "label"
            },
            "rules": [
              {
                "required": true,
                "message": "是否需要授信不得为空"
              }
            ]
          },
          "cust_class": {
            "control": "select",
            "label": "适用客户类型",
            "disabled": true,
            "span": 8,
            "width": "50px",
            "dict": {
              "dictType": "PD_E_CUST_CLASS",
              "dictKey": [
                "PD_E_CUST_CLASS"
              ],
              "exclude": [
                "99"
              ],
              "labelField": "dictName",
              "valueField": "dictId",
              "format": "label"
            }
          }
        },
        {
          "prod_label": {
            "control": "select",
            "label": "产品标签",
            "multiple": true,
            "span": 8,
            "width": "50px",
            "dict": {
              "dictType": "PD_E_PROD_LABEL",
              "dictKey": [
                "PD_E_PROD_LABEL"
              ],
              "labelField": "dictName",
              "valueField": "dictId",
              "format": "label"
            }
          },
          "recommend": {
            "control": "select",
            "label": "是否推荐",
            "span": 8,
            "width": "50px",
            "dict": {
              "format": "label",
              "dictKey": [
                "MS_E_YESORNO"
              ],
              "dictType": "MS_E_YESORNO"
            }
          },
          "prod_picture_url": {
            "control": "hidden",
            "label": "file_path"
          },
          "file": {
            "doRequest": {
              "url": "/SUMP/minioCall/uploadAndCheck",
              "method": "post",
              "params": {
                "checkGPSFlag": "0",
                "checkPSFlag": "0",
                "checkCarInvoiceFlag": "0",
                "filetype": "image",
                "appId": "icmsOnl",
                "servicecode": "ct2555"
              },
              "resultSet": {
                "prod_picture_url": "path",
                "file_name": "oldName",
                "file_size": "size",
                "latitude": "latitude",
                "longitude": "longitude"
              }
            },
            "control": "file",
            "limit": 1,
            "span": 8,
            "limitSize": 10,
            "width": "50px",
            "listType": "picture",
            "label": "上传产品图片",
            "preview": true,
            "value": "${{params.prod_picture_url}}"
          }
        },
        {
          "prod_desc": {
            "control": "textarea",
            "span": 24,
            "width": "50px",
            "label": "描述",
            "autosize": {
              "minRows": 3,
              "maxRows": 7
            },
            "maxlength": 500,
            "showWordLimit": true
          }
        }
      ]
    }
  }
}